(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{95695:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/courses/study",function(){return i(76911)}])},76911:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return v}});var n=i(85893),d=i(11163),t=i(67294),o=i(53130),s=i(14111),r=i(70853),u=i(66157),c=i(29297),a=i(94645);function v(e){var l,i,v,h,_,p,y,f,x,j,g,m,w;let{solve:N}=e,q=(0,d.useRouter)(),[b,C]=t.useState(null),[E,k]=t.useState(null),{title:Z}=null!=b?b:{},P=+(null===(l=q.query)||void 0===l?void 0:l.sec),R=+(null===(i=q.query)||void 0===i?void 0:i.ep),F=e=>{fetch(e).then(e=>{e.blob().then(e=>{let l=window.URL.createObjectURL(e),i=document.createElement("a");i.href=l,i.download="file",i.click()})})},S=(0,c.Z)({sec:P,ep:R,data:b});t.useEffect(()=>{var e,l;(null===(e=q.query)||void 0===e?void 0:e.id)&&!b&&N.Request({config:{url:"single-course/".concat(null===(l=q.query)||void 0===l?void 0:l.id)},dependencies:{data:[b,C]}})},[null===(v=q.query)||void 0===v?void 0:v.id,N,b]),t.useEffect(()=>{P==P&&R==R&&S&&(+(null==E?void 0:E._SEC_)!==P||+(null==E?void 0:E._EP_)!==R||null===E&&null!==b)&&k({...S,_SEC_:P,_EP_:R})},[S,R,q.query.ep,q.query.sec,P,E,b]);let z=null==b?void 0:null===(h=b.data)||void 0===h?void 0:null===(_=h.sections)||void 0===_?void 0:_.find(e=>(null==e?void 0:e.id)===+N.Router.query.get("sec")),I=null==z?void 0:null===(p=z.episode)||void 0===p?void 0:p.find(e=>(null==e?void 0:e.id)===+N.Router.query.get("ep"));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.Z,{header:{title:(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("h4",{children:(0,n.jsx)("small",{children:"در حال مشاهده:"})}),(0,n.jsx)("span",{style:{marginRight:".5rem"},children:"".concat(N.Convert.toPe(null!==(g=null==z?void 0:z.title)&&void 0!==g?g:""))})]}),additional:null==I?void 0:I.title,metaTitle:null==I?void 0:I.title},content:{step0:b?{upper:{btn:{type:"back"}},handCrafted:(0,n.jsx)("div",{className:"".concat(a.wrapper),children:Number.isInteger(+(null===(y=q.query)||void 0===y?void 0:y.sec))&&Number.isInteger(+(null===(f=q.query)||void 0===f?void 0:f.ep))?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"".concat(a.content),children:["قسمت : ",null!==(m=null==I?void 0:I.body)&&void 0!==m?m:""]}),(0,n.jsx)(o.Z,{}),(0,n.jsxs)("div",{className:"".concat(a.media),children:[(0,n.jsx)("div",{className:"".concat(a.video),style:{textAlign:"center"},children:(null==I?void 0:I.video_url)?(0,n.jsx)("iframe",{src:I.video_url}):N.Convert.withBadge({val:(0,n.jsx)("strong",{children:"ویدیو ندارد"}),color:"grey",size:"lg"})}),(0,n.jsxs)("div",{className:"".concat(a.additional),children:[(null==I?void 0:I.mp3_url)&&(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{onClick:()=>F(null==I?void 0:I.mp3_url),appearance:"ghost",size:"sm",children:"دانلود محتوای صوتی"})}),(null==I?void 0:I.pdf_url)&&(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{onClick:()=>F(null==I?void 0:I.pdf_url),appearance:"ghost",size:"sm",children:"دانلود PDF"})})]})]})]}):(0,n.jsx)("div",{style:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},children:N.Convert.withBadge({val:(0,n.jsx)("strong",{children:"قسمتی را انتخاب کنید"}),color:"grey",size:"lg"})})})}:{loader:{}}},solve:N,overlay:(0,n.jsx)("div",{className:"".concat(a.over),style:{height:"100vh",width:"25%",background:"#eee",position:"fixed",top:0,left:0},children:(0,n.jsxs)("div",{className:"".concat(a.overlay),children:[(0,n.jsx)("div",{className:"".concat(a.header),children:(0,n.jsx)("h5",{children:(0,n.jsx)("strong",{children:"انتخاب قسمت"})})}),(0,n.jsx)("div",{className:"".concat(a.content),children:(0,n.jsx)(u.Z,{config:{},structure:{accord:{entries:null!==(w=null==b?void 0:null===(x=b.data)||void 0===x?void 0:x.sections)&&void 0!==w?w:[],current:null===(j=q.query)||void 0===j?void 0:j.sec,inside:{view:{structure:{table:{data(e){var l,i,n,d,t,o;return console.log(null===(l=null==b?void 0:null===(i=b.data)||void 0===i?void 0:null===(n=i.sections)||void 0===n?void 0:n.find(l=>(null==l?void 0:l.id)===e))||void 0===l?void 0:l.episode),null===(d=null==b?void 0:null===(t=b.data)||void 0===t?void 0:null===(o=t.sections)||void 0===o?void 0:o.find(l=>(null==l?void 0:l.id)===e))||void 0===d?void 0:d.episode},columns:[{title:"نام قسمت",type:"title",key:"title"},{title:"مشاهده",type:"show"}]}}}}}},Solver:N})})]})})})})}i(85215)},94645:function(e){e.exports={over:"study_over__igprb",overlay:"study_overlay__xPopw",header:"study_header__mEDIo",content:"study_content__5VOpg",wrapper:"study_wrapper__2ypFt",media:"study_media__ZqCjC",additional:"study_additional__y0ZFX"}},25893:function(){}},function(e){e.O(0,[544,675,369,853,774,888,179],function(){return e(e.s=95695)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{92328:function(e,o,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/super-admin/organizations/edit",function(){return l(21241)}])},21241:function(e,o,l){"use strict";l.r(o),l.d(o,{default:function(){return d}});var i=l(85893),n=l(67294),a=l(46427);function d(e){var o,l,d,t,r,u,v,g,c,s,_,m,p,f,h,y;let{solve:k,Page:b}=e,[w,q]=n.useState(null),[R,z]=n.useState({});return n.useEffect(()=>{let e;null===w&&k.Router.query.get("id")&&k.Request({config:{url:"all-users-without-paginate?role=organization-manager",pointer:"managers",method:"get"},dependencies:{callback(o){var l;console.log(e=null==o?void 0:null===(l=o.data)||void 0===l?void 0:l.data),k.Request({config:{url:"categories?keywords=server",pointer:"cat_server",method:"get"},dependencies:{callback(o){var l;let i=k.Router.query.get("id");e={managers:e,categories:null==o?void 0:null===(l=o.data)||void 0===l?void 0:l.data},console.log(i),k.Request({config:{url:"organizations/".concat(i),pointer:"org",method:"get"},dependencies:{callback(o){var l,i,n;let{manager:a}=null!==(n=null==o?void 0:null===(l=o.data)||void 0===l?void 0:l.organization)&&void 0!==n?n:{};console.log(o),e={...e,org:null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.organization},null!=w||q(e)}}})}}})}}})},[k.Router.query.get("id")]),console.log(null==w?void 0:null===(o=w.org)||void 0===o?void 0:null===(l=o.manager)||void 0===l?void 0:l.id),(0,i.jsx)(a.Z,{solve:k,header:{title:"ایجاد موسسه"},content:w?{step0:{btn:{action:"back"},form:{config:{editorDefaultVals:[{key:"server_category_id",val:null==w?void 0:null===(d=w.org)||void 0===d?void 0:null===(t=d.server_category)||void 0===t?void 0:t.id},{key:"manager_id",val:null==w?void 0:null===(r=w.org)||void 0===r?void 0:null===(u=r.manager)||void 0===u?void 0:u.id}],url:"organizations/".concat(k.Router.query.get("id"),"?_method=PUT"),content_type:"multipart/form-data",route:!0,push_notif:!0,initial:{title:null==w?void 0:null===(v=w.org)||void 0===v?void 0:v.title,brand:null==w?void 0:null===(g=w.org)||void 0===g?void 0:g.brand,manager_id:null==w?void 0:null===(c=w.org)||void 0===c?void 0:null===(s=c.manager)||void 0===s?void 0:s.id,server_category_id:null==w?void 0:null===(_=w.org)||void 0===_?void 0:null===(m=_.server_category)||void 0===m?void 0:m.id}},structure:[[{input:{name:"title",type:"text",placeholder:"نام موسسه"}},{input:{name:"brand",placeholder:"برند"}}],[{upload:{prompt:"لوگوی سازمان را انتخاب کنید",name:"logo_img"}}],[{select:{name:"manager_id",placeholder:"انتخاب مدیر سازمان",data:null==w?void 0:w.managers,args:{defaultValue:null==w?void 0:null===(p=w.org)||void 0===p?void 0:null===(f=p.manager)||void 0===f?void 0:f.id}}},{select:{name:"server_category_id",placeholder:"دسته بندی سرور",data:null==w?void 0:w.categories,args:{defaultValue:null==w?void 0:null===(h=w.org)||void 0===h?void 0:null===(y=h.server_category)||void 0===y?void 0:y.id}}}]]}}}:{loading:!0}})}}},function(e){e.O(0,[675,427,774,888,179],function(){return e(e.s=92328)}),_N_E=e.O()}]);
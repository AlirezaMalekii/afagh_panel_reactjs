(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{89036:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/super-admin/discounts/edit",function(){return l(12570)}])},12570:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return o}});var i=l(85893),u=l(67294),n=l(46427);function o(e){var t,l,o,d,a,c,r;let{solve:s,Page:p}=e,[v,f]=u.useState(null);return u.useEffect(()=>{null===v&&void 0!==s.Router.query.get("id")&&s.Request({config:{url:"discounts/".concat(s.Router.query.get("id")),pointer:"dis",method:"get"},dependencies:{callback(e){var t;let l=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data;s.Request({config:{url:"courses",pointer:"courses",method:"get"},dependencies:{callback(e){var t;let i=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data;s.Request({config:{url:"all-users-without-paginate",pointer:"users",method:"get"},dependencies:{callback(e){var t;f({courses:i,users:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data,discount:l})}}})}}})}}})},[]),(0,i.jsx)(n.Z,{solve:s,header:{title:"ایجاد تخفیف جدید"},content:v?{step0:{btn:{action:"back"},form:{config:{url:"discounts/".concat(s.Router.query.get("id"),"?_method=PUT"),content_type:"multipart/form-data",route:!0,push_notif:!0,initial:{code:null==v?void 0:null===(t=v.discount)||void 0===t?void 0:t.code,active:1,use_limit:null==v?void 0:null===(l=v.discount)||void 0===l?void 0:l.use_limit,percent:null==v?void 0:null===(o=v.discount)||void 0===o?void 0:o.percent}},structure:[[{input:{name:"code",type:"text",placeholder:"کد تخفیف"}},{select:{name:"type",placeholder:"انتخاب نوع تخفیف",data:[{title:"عمومی (public)",value:"public"},{title:"خصوصی (private)",value:"private"}],args:{defaultValue:null==v?void 0:null===(d=v.discount)||void 0===d?void 0:d.type}}}],[{range:{label:"درصد تخفیف",name:"percent",defaultValue:null==v?void 0:null===(a=v.discount)||void 0===a?void 0:a.percent}},{input:{placeholder:"۰",name:"use_limit",direction:"ltr",type:"price",addon:{first:{prompt:"حد استفاده"},last:{prompt:"عدد"}}},flex:.5}],[],[{select:{placeholder:"انتخاب دوره های مربوطه",name:"courses_id",multi:!0,data:null!==(c=null==v?void 0:v.courses)&&void 0!==c?c:null,searchable:!0}},{select:{placeholder:"انتخاب کاربران مشمول تخفیف",multi:!0,name:"users_id",data:null!==(r=null==v?void 0:v.users)&&void 0!==r?r:null,searchable:!0}}]]}}}:{loading:!0}})}}},function(e){e.O(0,[675,427,774,888,179],function(){return e(e.s=89036)}),_N_E=e.O()}]);